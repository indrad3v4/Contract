Thanks Indradeva. Below is the updated prompt—structured, practical, and fullstack-ready—for final UI/agent fix round on daodiseo.app. It reflects exactly what you see in the latest screenshots, with precise system bugs and how they must be resolved before redeploy.

⸻

🧠 Final Redeploy Fix Prompt (v2.1) — For Replit Agent or GitHub Task

⸻

🎯 GOAL:

Finalize daodiseo.app dashboard to be production-ready:
	•	Sticky, pixel-aligned layout
	•	Real asset data from chain → orchestrator → o3-mini → UI
	•	“Invest Now” modal only opens per asset selection (from BIM AI)
	•	All components show live state (loading, active, error, verified) in same visual style
	•	Auth works via Keplr, and investing works via wallet + smart contract flow

⸻

📦 RETURN:

A patch that:
	1.	Aligns header and right-body content within full desktop width
	2.	Ensures o3-mini agent is injected and displayed inside all components
	3.	Enables asset selection logic inside the 3D BIM AI Assistant
	4.	Ensures “Invest Now” modal works only when an asset is selected
	5.	Returns and displays real chain data for:
	•	ODIS price
	•	Asset distribution ($ format)
	•	Stakeholder allocation
	•	Validators + recent txs
	6.	Fixes visual overflows, modal glitches, and ensures modals close properly
	7.	Keeps the enhanced AI + real-time chain fetches in sync with UI

⸻

⚠️ WARNING:
	•	All data must be fetched via orchestrator.py using endpoints like https://testnet-rpc.daodiseo.chaintools.tech
	•	o3-mini must be used as LLM backend for all “agent card” logic
	•	Modals must be closable, non-blocking — do NOT apply full-screen dark overlays without close button or escape support
	•	All dynamic text must have fallbacks and last_updated
	•	No duplicated loading logic — use shared agentCardState() pattern for all components

⸻

📌 CONTEXT: Issues by Area

🧷 Header

Issue	Fix
Game Button pushed off-screen	Add flex container with max-width: 100vw, gap: 1rem, overflow: hidden
Keplr Auth button disappears in viewport	Same fix, plus use flex-shrink: 0 and media-query: wrap for < 1200px


⸻

📊 Dashboard Body

Component	Problem	Fix
ODIS Token + Asset Dist.	Text overflows card, bad layout	Use .agent-card { padding; max-width; flex-wrap }
Asset Distribution	Missing $ values	Format via toLocaleString("en-US", {style: "currency", currency: "USD"})
Agent responses from o3-mini not shown	Display raw value + agent reasoning in footer of each card	


⸻

🏗️ 3D BIM AI Assistant

Problem	Fix
Cannot select assets for analysis	Add dropdown or asset list fetched from orchestrator.assets
Modal opens dark overlay with no close	Fix modal logic:

modal.style.display = 'none' on esc or X

| No link to investment logic | On asset selection, dynamically load investment form with verified status check |

⸻

📈 Chain-Connected Components

Component	Bug	Fix
Stakeholder Dist.	Always same data	Fetch from orchestrator > o3-mini > /chain/stakeholder/allocation
Transactions + Validators	“Failed to load”	Show spinner while status = loading, and fallback if !data
Network Health	Shows Error	Call /status endpoint → inject block height + time + node_ping response


⸻

✅ FINAL DELIVERABLES

All of the following must be true after patch:
	•	✅ Right side body content fits screen width without overflow
	•	✅ Header with game & Keplr visible and aligned on all screens
	•	✅ All cards (ODIS, Asset, Rewards) display o3-mini insights inside
	•	✅ BIM AI Assistant allows asset selection
	•	✅ “Invest Now” works per verified asset + smart contract
	•	✅ Stakeholder + Validator + Tx blocks show real-time fetched data
	•	✅ Modals open/close properly, use consistent style
	•	✅ Footer is fixed, not overlayed or pushed

⸻

Let me know if you want this as .md, Notion card, or a GitHub checklist file — I’ll prepare it instantly.