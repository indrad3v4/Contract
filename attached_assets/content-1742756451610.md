- [Skip to main content](https://developer.mozilla.org/en-US/docs/Web/API/Window/btoa#content)
- [Skip to search](https://developer.mozilla.org/en-US/docs/Web/API/Window/btoa#top-nav-search-input)
- [Skip to select language](https://developer.mozilla.org/en-US/docs/Web/API/Window/btoa#languages-switcher-button)

Article Actions

- English (US)



- Remember language [Enable this setting to automatically switch to this language when it's available. (Click to learn more.)](https://github.com/orgs/mdn/discussions/739 "Enable this setting to automatically switch to this language when it's available. (Click to learn more.)")

Is this useful?This feature is useful.This feature is not useful.
- [Deutsch](https://developer.mozilla.org/de/docs/Web/API/Window/btoa)
- [Espa√±ol](https://developer.mozilla.org/es/docs/Web/API/Window/btoa)
- [Fran√ßais](https://developer.mozilla.org/fr/docs/Web/API/Window/btoa)
- [Êó•Êú¨Ë™û](https://developer.mozilla.org/ja/docs/Web/API/Window/btoa)
- [ÌïúÍµ≠Ïñ¥](https://developer.mozilla.org/ko/docs/Web/API/Window/btoa)
- [–†—É—Å—Å–∫–∏–π](https://developer.mozilla.org/ru/docs/Web/API/Window/btoa)
- [‰∏≠Êñá (ÁÆÄ‰Ωì)](https://developer.mozilla.org/zh-CN/docs/Web/API/Window/btoa)

The **`btoa()`** method of the [`Window`](https://developer.mozilla.org/en-US/docs/Web/API/Window) interface creates a
[Base64](https://developer.mozilla.org/en-US/docs/Glossary/Base64)-encoded [ASCII](https://developer.mozilla.org/en-US/docs/Glossary/ASCII) string from a _binary string_ (i.e., a
string in which each character in the string is treated as a byte
of binary data).

You can use this method to encode data which may otherwise cause communication
problems, transmit it, then use the [`Window.atob()`](https://developer.mozilla.org/en-US/docs/Web/API/Window/atob) method to decode the data again.
For example, you can encode control characters such as ASCII values 0 through 31.

Also consider using the [`Uint8Array.prototype.toBase64()`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Uint8Array/toBase64) method if your data is in a `Uint8Array` object to avoid creating a string containing raw bytes.

## [Syntax](https://developer.mozilla.org/en-US/docs/Web/API/Window/btoa\#syntax)

jsCopy to Clipboard

```
btoa(stringToEncode)

```

### [Parameters](https://developer.mozilla.org/en-US/docs/Web/API/Window/btoa\#parameters)

[`stringToEncode`](https://developer.mozilla.org/en-US/docs/Web/API/Window/btoa#stringtoencode)

The _binary string_ to encode. Strings in JavaScript are encoded as UTF-16, so this means each character must have a code point less than 256, representing one byte of data.

### [Return value](https://developer.mozilla.org/en-US/docs/Web/API/Window/btoa\#return_value)

An ASCII string containing the Base64 representation of `stringToEncode`.

### [Exceptions](https://developer.mozilla.org/en-US/docs/Web/API/Window/btoa\#exceptions)

`InvalidCharacterError` [`DOMException`](https://developer.mozilla.org/en-US/docs/Web/API/DOMException)

The string contained a character that did not fit in a single byte. See "Unicode strings" below for more detail.

## [Examples](https://developer.mozilla.org/en-US/docs/Web/API/Window/btoa\#examples)

jsCopy to Clipboard

```
const encodedData = window.btoa("Hello, world"); // encode a string
const decodedData = window.atob(encodedData); // decode the string

```

### [Unicode strings](https://developer.mozilla.org/en-US/docs/Web/API/Window/btoa\#unicode_strings)

Base64, by design, expects binary data as its input. In terms of JavaScript strings,
this means strings in which the code point of each character occupies only one byte. So if you pass a
string into `btoa()` containing characters that occupy more than one byte,
you will get an error, because this is not considered binary data:

jsCopy to Clipboard

```
const ok = "a";
console.log(ok.codePointAt(0).toString(16)); //   61: occupies < 1 byte

const notOK = "‚úì";
console.log(notOK.codePointAt(0).toString(16)); // 2713: occupies > 1 byte

console.log(window.btoa(ok)); // YQ==
console.log(window.btoa(notOK)); // error

```

Since `btoa` interprets the code points of its input string as byte values, calling `btoa` on a string will cause a "Character Out Of Range" exception if a character's code point exceeds `0xff`. For use cases where you need to encode arbitrary Unicode text, it is necessary to first convert the string to its constituent bytes in [UTF-8](https://developer.mozilla.org/en-US/docs/Glossary/UTF-8), and then encode the bytes.

The simplest solution is to use `TextEncoder` and `TextDecoder` to convert between UTF-8 and single-byte representations of the string:

jsCopy to Clipboard

```
function base64ToBytes(base64) {
  const binString = atob(base64);
  return Uint8Array.from(binString, (m) => m.codePointAt(0));
}

function bytesToBase64(bytes) {
  const binString = Array.from(bytes, (byte) =>
    String.fromCodePoint(byte),
  ).join("");
  return btoa(binString);
}

// Usage
bytesToBase64(new TextEncoder().encode("a ƒÄ êÄÄ Êñá ü¶Ñ")); // "YSDEgCDwkICAIOaWhyDwn6aE"
new TextDecoder().decode(base64ToBytes("YSDEgCDwkICAIOaWhyDwn6aE")); // "a ƒÄ êÄÄ Êñá ü¶Ñ"

```

### [Converting arbitrary binary data](https://developer.mozilla.org/en-US/docs/Web/API/Window/btoa\#converting_arbitrary_binary_data)

The `bytesToBase64` and `base64ToBytes` functions in the previous section can be used directly to convert between Base64 strings and [`Uint8Array`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Uint8Array) s.

For better performance, asynchronous conversion between base64 data URLs is possible natively within the web platform via the [`FileReader`](https://developer.mozilla.org/en-US/docs/Web/API/FileReader) and [`fetch`](https://developer.mozilla.org/en-US/docs/Web/API/Fetch_API) APIs:

jsCopy to Clipboard

```
async function bytesToBase64DataUrl(bytes, type = "application/octet-stream") {
  return await new Promise((resolve, reject) => {
    const reader = Object.assign(new FileReader(), {
      onload: () => resolve(reader.result),
      onerror: () => reject(reader.error),
    });
    reader.readAsDataURL(new File([bytes], "", { type }));
  });
}

async function dataUrlToBytes(dataUrl) {
  const res = await fetch(dataUrl);
  return new Uint8Array(await res.arrayBuffer());
}

// Usage
await bytesToBase64DataUrl(new Uint8Array([0, 1, 2])); // "data:application/octet-stream;base64,AAEC"
await dataUrlToBytes("data:application/octet-stream;base64,AAEC"); // Uint8Array [0, 1, 2]

```

**Note:**
For supporting environments, also consider the native [`Uint8Array.fromBase64()`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Uint8Array/fromBase64), [`Uint8Array.prototype.toBase64()`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Uint8Array/toBase64), and [`Uint8Array.prototype.setFromBase64()`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Uint8Array/setFromBase64) methods.

## [Specifications](https://developer.mozilla.org/en-US/docs/Web/API/Window/btoa\#specifications)

| Specification |
| --- |
| [HTML\<br>\# dom-btoa-dev](https://html.spec.whatwg.org/multipage/webappapis.html#dom-btoa-dev) |

## [Browser compatibility](https://developer.mozilla.org/en-US/docs/Web/API/Window/btoa\#browser_compatibility)

## [See also](https://developer.mozilla.org/en-US/docs/Web/API/Window/btoa\#see_also)

- [A polyfill of `btoa`](https://github.com/zloirock/core-js#base64-utility-methods) is available in [`core-js`](https://github.com/zloirock/core-js)
- [`data` URLs](https://developer.mozilla.org/en-US/docs/Web/URI/Reference/Schemes/data)
- [`WorkerGlobalScope.btoa()`](https://developer.mozilla.org/en-US/docs/Web/API/WorkerGlobalScope/btoa): the same method, but in worker scopes.
- [`Window.atob()`](https://developer.mozilla.org/en-US/docs/Web/API/Window/atob)
- [`Uint8Array.prototype.toBase64()`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Uint8Array/toBase64)
- [Base64](https://developer.mozilla.org/en-US/docs/Glossary/Base64)